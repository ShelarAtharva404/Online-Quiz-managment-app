@model QuizPortal.Models.Dtos.QuizResultDto
@{
    ViewData["Title"] = "Quiz Result";
}

<div class="container text-center mt-5">
    <h2 class="text-success">ðŸŽ‰ Quiz Completed!</h2>
    <h4 class="mt-3">@Model.Title</h4>

    <h5 class="mt-3">You scored <strong>@Model.CorrectAnswers</strong> out of <strong>@Model.TotalQuestions</strong></h5>
    <h5 class="text-info">Percentage: <strong>@Model.Percentage %</strong></h5>

    <div class="progress mt-4" style="height: 25px;">
        <div id="progressBar" class="progress-bar bg-success"
             role="progressbar" style="width:0%"
             aria-valuenow="@Model.Percentage" aria-valuemin="0" aria-valuemax="100">
            @Model.Percentage%
        </div>
    </div>

    <a asp-action="Index" asp-controller="Quiz" class="btn btn-primary mt-4">
        Back to Quiz List
    </a>
</div>

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let progress = document.getElementById("progressBar");
            let percentage = @Model.Percentage;
            let width = 0;
            let interval = setInterval(() => {
                if (width >= percentage) {
                    clearInterval(interval);
                } else {
                    width++;
                    progress.style.width = width + "%";
                }
            }, 20);
        });
    </script>
}
