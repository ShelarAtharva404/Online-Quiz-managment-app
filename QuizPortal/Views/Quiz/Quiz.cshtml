@model QuizPortal.Models.Dtos.QuizViewDto
@{
    ViewData["Title"] = "Take Quiz";
}

<h2 class="text-center mt-4">@Model.QuizDto.Title</h2>
<p class="text-center text-muted">@Model.QuizDto.Description</p>

<form asp-action="SubmitQuiz" asp-controller="Quiz" method="post">
    <input type="hidden" asp-for="QuizDto.Id" />
    <input type="hidden" name="QuizDto.Title" value="@Model.QuizDto.Title" />
    <input type="hidden" name="QuizDto.Description" value="@Model.QuizDto.Description" />

    @for (int i = 0; i < Model.QuestionDtoList.Count; i++)
    {
        <div class="card mb-4 shadow">
            <div class="card-header bg-primary text-white">
                <strong>Question @(i + 1):</strong> @Model.QuestionDtoList[i].QuestionText
            </div>
            <div class="card-body">
                <div class="form-check">
                    <input type="radio" class="form-check-input"
                           id="q@i-a" name="QuestionDtoList[@i].SelectedOption"
                           value="A" />
                    <label for="q@i-a" class="form-check-label">A) @Model.QuestionDtoList[i].AnswerA</label>
                </div>
                <div class="form-check">
                    <input type="radio" class="form-check-input"
                           id="q@i-b" name="QuestionDtoList[@i].SelectedOption"
                           value="B" />
                    <label for="q@i-b" class="form-check-label">B) @Model.QuestionDtoList[i].AnswerB</label>
                </div>
                <div class="form-check">
                    <input type="radio" class="form-check-input"
                           id="q@i-c" name="QuestionDtoList[@i].SelectedOption"
                           value="C" />
                    <label for="q@i-c" class="form-check-label">C) @Model.QuestionDtoList[i].AnswerC</label>
                </div>
                <div class="form-check">
                    <input type="radio" class="form-check-input"
                           id="q@i-d" name="QuestionDtoList[@i].SelectedOption"
                           value="D" />
                    <label for="q@i-d" class="form-check-label">D) @Model.QuestionDtoList[i].AnswerD</label>
                </div>

                <!-- Hidden fields to carry data -->
                <input type="hidden" name="QuestionDtoList[@i].QuestionText" value="@Model.QuestionDtoList[i].QuestionText" />
                <input type="hidden" name="QuestionDtoList[@i].AnswerA" value="@Model.QuestionDtoList[i].AnswerA" />
                <input type="hidden" name="QuestionDtoList[@i].AnswerB" value="@Model.QuestionDtoList[i].AnswerB" />
                <input type="hidden" name="QuestionDtoList[@i].AnswerC" value="@Model.QuestionDtoList[i].AnswerC" />
                <input type="hidden" name="QuestionDtoList[@i].AnswerD" value="@Model.QuestionDtoList[i].AnswerD" />
                <input type="hidden" name="QuestionDtoList[@i].CorrectAnswer" value="@Model.QuestionDtoList[i].CorrectAnswer" />
            </div>
        </div>
    }

    <div class="text-center mb-5">
        <button type="submit" class="btn btn-success btn-lg">Complete the Quiz</button>
    </div>
</form>
